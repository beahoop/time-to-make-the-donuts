(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{32:function(e,t,i){},40:function(e,t,i){},41:function(e,t,i){"use strict";i.r(t);var n=i(1),s=i.n(n),a=i(25),r=i.n(a),c=(i(31),i(32),i(17)),o=i.n(c),l=i(19),d=i(15),p=i(5),h=i(6),u=i(2),j=i(8),b=i(7),m=i(10),g=i.n(m),O=i(13),y=i(3),x=i(0);var v=function(e){var t=e.isLoggedIn;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"navbar sticky-top navbar-light bg-light",children:[Object(x.jsx)("span",{className:"navbar-brand",children:Object(x.jsx)(O.b,{to:"/recipes",children:"Freshly Baked"})}),Object(x.jsx)("span",{className:"navbar-brand",children:Object(x.jsx)(O.b,{to:"/recipes",children:"Batch Maker"})}),Object(x.jsx)("span",{className:"navbar-brand plus",children:Object(x.jsx)(O.b,{to:"/recipeform",children:"+"})}),t?null:Object(x.jsxs)("span",{children:[Object(x.jsx)("span",{className:"navbar-brand",children:Object(x.jsx)(O.b,{to:"/login/",children:"Login"})}),Object(x.jsxs)("span",{className:"navbar-brand",children:[Object(x.jsx)(O.b,{to:"/register/",children:"Register"})," "]})]}),t?Object(x.jsx)("span",{className:"navbar-brand",children:Object(x.jsx)("span",{className:"navbar-brand",onClick:function(t){return e.handleLogOut(t)},type:"submit",children:"LogOut"})}):null]})})};var f=function(e){var t=e.isLoggedIn;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"sidebar navbar-dark bg-light",children:[t?Object(x.jsx)("span",{className:"navbar-brand",children:Object(x.jsx)(O.b,{to:"/user/recipes",children:"My Recipes"})}):null,Object(x.jsx)("span",{className:"navbar-brand",children:Object(x.jsx)(O.b,{to:"/public/recipes",children:"Public Recipes"})}),Object(x.jsx)("span",{className:"navbar-brand",children:Object(x.jsx)(O.b,{to:"/Popular/recipes",children:"Popular Recipes"})})]})})},k=function(e){Object(j.a)(i,e);var t=Object(b.a)(i);function i(){return Object(p.a)(this,i),t.apply(this,arguments)}return Object(h.a)(i,[{key:"render",value:function(){var e=this.props.recipe;return console.log("recipe",e),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"listImg",children:Object(x.jsx)("a",{href:"/recipe/edit/".concat(e.id),children:Object(x.jsx)("img",{className:"homepage-img",src:e.image,alt:"preview"})})})})}}]),i}(n.Component);var I=function(e){console.log(e);var t=e.recipes.filter((function(e){return JSON.parse(localStorage.getItem("user")).username===e.author?e:console.log("nope")})).map((function(t){return Object(x.jsx)(k,{recipe:t,articles:e.aRecipe,editRecipe:e.editRecipe,isLoggedIn:e.isLoggedIn,removeRecipe:e.removeRecipe},t.id)}));return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("ul",{className:"row",children:[" ",t,"  "]})})},N=i(9),C=function(e){Object(j.a)(i,e);var t=Object(b.a)(i);function i(e){var n;return Object(p.a)(this,i),(n=t.call(this,e)).state={title:"",qty:"",unit:"",type:"",prep_time:"",cook_temp:"",cook_time:"",yields:"",food_type:"",ingredients:[],directions:"",notes:"",image:n.props.recipeImage,preview:n.props.preview,author:JSON.parse(localStorage.getItem("user")).username},n.handleInput=n.handleInput.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.addIngredient=n.addIngredient.bind(Object(u.a)(n)),n}return Object(h.a)(i,[{key:"addIngredient",value:function(e,t,i){var n=Object(d.a)(this.state.ingredients),s={qty:e,unit:t,type:i};n.push(s),this.setState({ingredients:n}),this.setState({qty:"",unit:"",type:""})}},{key:"removeIngredient",value:function(e){var t=Object(d.a)(this.state.ingredients),i=t.indexOf(e);t.splice(i,1),this.setState({ingredients:t})}},{key:"handleInput",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var i={title:this.state.title,prep_time:this.state.prep_time,cook_temp:this.state.cook_temp,cook_time:this.state.cook_time,yields:this.state.yields,food_type:this.state.food_type,ingredients:this.state.ingredients,directions:this.state.directions,notes:this.state.notes,image:this.state.recipeImage,author:JSON.parse(localStorage.getItem("user")).username};fetch("/api/v1/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(i)}).then((function(e){if(!e.ok)throw new Error("Bad Post request");return e.json()})).then((function(e){t.props.addRecipe(e),console.log("Success. Message created!",e)})).catch((function(e){return console.log("Error:",e)})).finally("I am always going to fire!"),this.setState({title:"",prep_time:"",cook_temp:"",cook_time:"",yields:"",food_type:"",ingredients:[],directions:"",notes:"",image:"",preview:"",author:JSON.parse(localStorage.getItem("user")).username})}},{key:"render",value:function(){var e=this,t=this.state.ingredients.map((function(t,i){return Object(x.jsxs)("li",{children:[Object(x.jsx)("input",{type:"qty",id:"recipe-qty",name:"qty",value:t.qty,onChange:e.handleInput,placeholder:t.qty,required:!0}),Object(x.jsx)("input",{type:"unit",id:"recipe-unit",name:"unit",value:t.unit,onChange:e.handleInput,placeholder:t.unit,required:!0})," of",Object(x.jsx)("input",{type:"type",id:"recipe-type",name:"type",value:t.type,onChange:e.handleInput,placeholder:t.type,required:!0}),Object(x.jsx)("button",{onClick:function(){return e.removeIngredient(t)},children:" -"})]},i)}));return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{className:"RecipeForm row",children:Object(x.jsxs)("form",{className:"form col-8 mx-auto",children:[Object(x.jsxs)("div",{className:"row",children:[Object(x.jsxs)("div",{className:"preimg col-4",children:[!this.props.recipeImage&&Object(x.jsxs)("span",{children:[Object(x.jsxs)("label",{for:"file-upload",className:"custom-file-upload",children:[Object(x.jsx)("p",{className:"imagePlus",children:" + "}),Object(x.jsx)("p",{className:"imageText",children:" Add photo"})]})," ",Object(x.jsx)("input",{id:"file-upload",type:"file",name:"recipeImage",onChange:this.props.handleImage})]}),this.props.recipeImage&&Object(x.jsx)("img",{className:"pre-img",src:this.props.preview,alt:"preview"})]}),Object(x.jsxs)("div",{className:"col-8",children:[Object(x.jsxs)("div",{class:"input-group mb-3",children:[Object(x.jsx)("div",{class:"input-group-prepend",children:Object(x.jsx)("span",{class:"input-group-text",id:"inputGroup-sizing-default",children:"Title"})}),Object(x.jsx)("input",{type:"text",className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",id:"recipe-title",name:"title",value:this.state.title,onChange:this.handleInput,placeholder:"Title",required:!0}),Object(x.jsx)("br",{})]}),Object(x.jsxs)("p",{children:["Author: ",this.state.author]})]})]}),Object(x.jsxs)("select",{id:"meal_type",name:"meal_type",required:!0,children:[Object(x.jsx)("option",{value:"BR8",children:"Breakfast"}),Object(x.jsx)("option",{value:"LNH",children:"Lunch"}),Object(x.jsx)("option",{value:"DIN",children:"Dinner"}),Object(x.jsx)("option",{value:"DES",children:"Dessert"})]}),Object(x.jsxs)("select",{id:"published",name:"Published",required:!0,children:[Object(x.jsx)("option",{value:"PRI",children:"Private"}),Object(x.jsx)("option",{value:"PUB",children:"Public"}),Object(x.jsx)("option",{value:"DFT",children:"Draft"})]}),Object(x.jsx)("input",{type:"prep_time",id:"recipe-prep-time",name:"prep_time",value:this.state.prep_time,onChange:this.handleInput,placeholder:"Prep time",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"cook_time",id:"recipe-cook-time",name:"cook_time",value:this.state.cook_time,onChange:this.handleInput,placeholder:"Cook time",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"cook_temp",id:"recipe-cook-temp",name:"cook_temp",value:this.state.cook_temp,onChange:this.handleInput,placeholder:"Cook temp",required:!0}),Object(x.jsxs)("select",{id:"Degree",name:"Degree",required:!0,children:[Object(x.jsx)("option",{value:"F",children:"F"}),Object(x.jsx)("option",{value:"C",children:"C"})]}),Object(x.jsx)("input",{type:"yields",id:"recipe-yields",name:"yields",value:this.state.yields,onChange:this.handleInput,placeholder:"yieldss",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"food_type",id:"recipe-food_type",name:"food_type",value:this.state.food_type,onChange:this.handleInput,placeholder:"Muffins, donuts, etc...",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"directions",id:"recipe-directions",name:"directions",value:this.state.directions,onChange:this.handleInput,placeholder:"Directions",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"notes",id:"recipe-notes",name:"notes",value:this.state.notes,onChange:this.handleInput,placeholder:"Notes",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("ul",{children:t}),Object(x.jsxs)("div",{className:"example",children:[Object(x.jsx)("input",{type:"qty",id:"recipe-qty",name:"qty",value:this.state.qty,onChange:this.handleInput,placeholder:"qty",required:!0}),Object(x.jsx)("input",{type:"unit",id:"recipe-unit",name:"unit",value:this.state.unit,onChange:this.handleInput,placeholder:"unit"})," of",Object(x.jsx)("input",{type:"type",id:"recipe-type",name:"type",value:this.state.type,onChange:this.handleInput,placeholder:"type",required:!0}),Object(x.jsx)("button",{onClick:function(){return e.addIngredient(e.state.qty,e.state.unit,e.state.type)},children:" + "})]}),Object(x.jsx)("button",{type:"button",onClick:this.handleSubmit,children:"Submit"})]})})})}}]),i}(n.Component),S=function(e){Object(j.a)(i,e);var t=Object(b.a)(i);function i(e){var n;return Object(p.a)(this,i),(n=t.call(this,e)).state={isEditing:!1,recipe:[],title:"",qty:"",unit:"",type:"",prep_time:"",cook_temp:"",cook_time:"",type_meal:"",yields:"",food_type:"",ingredients:[],directions:"",notes:"",image:n.props.recipeImage,preview:n.props.preview,newyields:null},n.handleInputEdit=n.handleInputEdit.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n.handleEdit=n.handleEdit.bind(Object(u.a)(n)),n.handleInput=n.handleInput.bind(Object(u.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.addIngredient=n.addIngredient.bind(Object(u.a)(n)),n}return Object(h.a)(i,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/".concat(this.props.match.params.id)).then((function(e){return e.json()})).then((function(t){console.log("response",t),e.setState({recipe:t,type_meal:t.type_meal,yields:t.yields,newyields:t.yields,title:t.title,ingredients:t.ingredients,prep_time:t.prep_time,cook_temp:t.cook_temp,cook_time:t.cook_time,food_type:t.food_type,directions:t.directions,notes:t.notes,image:t.image})}),(function(t){e.setState({error:t})}))}},{key:"handleEdit",value:function(e,t){13===e.keyCode&&this.setState({isEditing:!1})}},{key:"handleInputEdit",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"addIngredient",value:function(e,t,i){var n=Object(d.a)(this.state.ingredients),s={qty:e,unit:t,type:i};n.push(s),this.setState({ingredients:n}),this.setState({qty:"",unit:"",type:""})}},{key:"removeIngredient",value:function(e){var t=Object(d.a)(this.state.ingredients),i=t.indexOf(e);t.splice(i,1),this.setState({ingredients:t})}},{key:"handleInput",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t={type_meal:this.state.type_meal,image:this.props.recipeImage,title:this.state.title,prep_time:this.state.prep_time,cook_temp:this.state.cook_temp,cook_time:this.state.cook_time,yields:this.state.yields,food_type:this.state.food_type,ingredients:this.state.ingredients,directions:this.state.directions,notes:this.state.notes};fetch("/api/v1/".concat(this.props.match.params.id),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw new Error("Bad Post request");return e.json()})).then((function(e){return console.log("Success. ChatApp created!")})).catch((function(e){return console.log("Error:",e)})).finally("I am always going to fire!")}},{key:"handleChange",value:function(e){console.log(e.target.name,e.target.value),this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e,t=this,i=this.state.recipe,n=this.state.newyields/this.state.yields,s=null===(e=this.state.recipe.ingredients)||void 0===e?void 0:e.map((function(e,t){return Object(x.jsx)("li",{children:Object(x.jsxs)("h2",{children:[e.qty*n," ",e.unit," of ",e.type,"  "]})},t)})),a=this.state.ingredients.map((function(e,i){return Object(x.jsxs)("li",{children:[Object(x.jsx)("input",{type:"qty",id:"recipe-qty",name:"qty",value:e.qty,onChange:t.handleInput,placeholder:e.qty,required:!0}),Object(x.jsx)("input",{type:"unit",id:"recipe-unit",name:"unit",value:e.unit,onChange:t.handleInput,placeholder:e.unit,required:!0})," of",Object(x.jsx)("input",{type:"type",id:"recipe-type",name:"type",value:e.type,onChange:t.handleInput,placeholder:e.type,required:!0}),Object(x.jsx)("button",{onClick:function(){return t.removeIngredient(e)},children:" -"})]},i)}));return Object(x.jsxs)(x.Fragment,{children:[this.state.isEditing?Object(x.jsx)("div",{className:"RecipeForm row",children:Object(x.jsxs)("form",{className:"form",children:[Object(x.jsx)("div",{className:"img-container",children:Object(x.jsx)("img",{className:"recipe-img",src:i.image,alt:"preview"})}),Object(x.jsxs)("span",{children:[Object(x.jsx)("label",{for:"file-upload",className:"edit-file-upload",children:Object(x.jsx)("p",{className:"imageEdit",children:" Edit Photo "})})," ",Object(x.jsx)("input",{id:"file-upload",type:"file",name:"recipeImage",onChange:this.props.handleImage})]}),this.props.recipeImage&&Object(x.jsx)("img",{className:"pre-img",src:this.props.preview,alt:"preview"}),Object(x.jsxs)("div",{class:"input-group mb-3",children:[Object(x.jsx)("div",{class:"input-group-prepend",children:Object(x.jsx)("span",{class:"input-group-text",id:"inputGroup-sizing-default",children:"Title"})}),Object(x.jsx)("input",{type:"text",className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",id:"recipe-title",name:"title",value:this.state.title,onChange:this.handleInput,placeholder:"Title",required:!0}),Object(x.jsx)("br",{})]}),Object(x.jsxs)("select",{id:"type_meal",name:"type_meal",value:this.state.type_meal,onChange:this.handleChange,defaultValue:this.state.type_meal,required:!0,children:[Object(x.jsx)("option",{value:"Breakfast",children:"Breakfast"}),Object(x.jsx)("option",{value:"Lunch",children:"Lunch"}),Object(x.jsx)("option",{value:"Dinner",children:"Dinner"}),Object(x.jsx)("option",{value:"Dessert",children:"Dessert"})]}),Object(x.jsxs)("select",{id:"published",name:"Published",required:!0,children:[Object(x.jsx)("option",{value:"PRI",children:"Private"}),Object(x.jsx)("option",{value:"PUB",children:"Public"}),Object(x.jsx)("option",{value:"DFT",children:"Draft"})]}),Object(x.jsx)("input",{type:"prep_time",id:"recipe-prep-time",name:"prep_time",value:this.state.prep_time,onChange:this.handleInput,placeholder:"Prep time",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"cook_time",id:"recipe-cook-time",name:"cook_time",value:this.state.cook_time,onChange:this.handleInput,placeholder:"Cook time",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"cook_temp",id:"recipe-cook-temp",name:"cook_temp",value:this.state.cook_temp,onChange:this.handleInput,placeholder:"Cook temp",required:!0}),Object(x.jsxs)("select",{id:"Degree",name:"Degree",required:!0,children:[Object(x.jsx)("option",{value:"F",children:"F"}),Object(x.jsx)("option",{value:"C",children:"C"})]}),Object(x.jsx)("input",{type:"yields",id:"recipe-yields",name:"yields",value:this.state.yields,onChange:this.handleInput,placeholder:"yieldss",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"food_type",id:"recipe-food_type",name:"food_type",value:this.state.food_type,onChange:this.handleInput,placeholder:"Muffins, donuts, etc...",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("textarea",{rows:"4",cols:"50",type:"directions",id:"recipe-directions",name:"directions",value:this.state.directions,onChange:this.handleInput,placeholder:"Directions",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("textarea",{rows:"4",cols:"50",type:"notes",id:"recipe-notes",name:"notes",value:this.state.notes,onChange:this.handleInput,placeholder:"Notes",required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("ul",{children:a}),Object(x.jsxs)("div",{className:"example",children:[Object(x.jsx)("input",{type:"qty",id:"recipe-qty",name:"qty",value:this.state.qty,onChange:this.handleInput,placeholder:"qty",required:!0}),Object(x.jsx)("input",{type:"unit",id:"recipe-unit",name:"unit",value:this.state.unit,onChange:this.handleInput,placeholder:"unit"})," of",Object(x.jsx)("input",{type:"type",id:"recipe-type",name:"type",value:this.state.type,onChange:this.handleInput,placeholder:"type",required:!0}),Object(x.jsx)("button",{onClick:function(){return t.addIngredient(t.state.qty,t.state.unit,t.state.type)},children:" + "})]}),Object(x.jsx)("button",{type:"button",onClick:this.handleSubmit,children:"Submit"})]})}):Object(x.jsxs)("li",{className:"repice-li",children:[Object(x.jsx)("div",{className:"img-container",children:Object(x.jsx)("img",{className:"recipe-img",src:i.image,alt:"preview"})}),Object(x.jsx)("h4",{className:"repice-title",children:i.title}),Object(x.jsx)("p",{className:"repice-type",children:i.type_meal}),Object(x.jsxs)("span",{className:"repice-yields",children:["yields ",this.state.yields," "]}),Object(x.jsx)("br",{}),Object(x.jsxs)("span",{className:"repice-type",children:["Prep time: ",i.prep_time," |"]}),Object(x.jsxs)("span",{className:"repice-type",children:["Cook time: ",i.cook_time," |"]}),Object(x.jsxs)("span",{className:"repice-type",children:[" ",i.cook_temp," ",i.degree," |"]}),Object(x.jsx)("p",{className:"repice-list-text",children:i.directions}),Object(x.jsx)("ul",{children:s}),Object(x.jsxs)("p",{className:"repice-author",children:["Writen by: ",i.author]}),Object(x.jsxs)("p",{className:"repice-published",children:["This repice is ",i.published]}),Object(x.jsxs)("p",{className:"repice-published",children:["Directions ",i.directions]}),Object(x.jsxs)("p",{className:"repice-published",children:["Notes ",i.notes]}),Object(x.jsxs)("p",{className:"recipe-list-text-profile",children:[" ",i.body," "]})]},i.id),Object(x.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg btn-block",onClick:function(){return t.setState({isEditing:!t.state.isEditing})},children:"Edit"})]})}}]),i}(n.Component),_=function(e){Object(j.a)(i,e);var t=Object(b.a)(i);function i(e){var n;return Object(p.a)(this,i),(n=t.call(this,e)).state={recipe:[],isEditing:!1,yields:null,newyields:null},n.handleEdit=n.handleEdit.bind(Object(u.a)(n)),n.handleInputEdit=n.handleInputEdit.bind(Object(u.a)(n)),n.filterRecipes=n.filterRecipes.bind(Object(u.a)(n)),n}return Object(h.a)(i,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/".concat(this.props.match.params.id)).then((function(e){return e.json()})).then((function(t){console.log("response",t),e.setState({recipe:t,yields:t.yields,newyields:t.yields})}),(function(t){e.setState({error:t})}))}},{key:"handleEdit",value:function(e,t){13===e.keyCode&&(this.setState({isEditing:!1}),this.setState({newyields:t}))}},{key:"handleInputEdit",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"filterRecipes",value:function(e){console.log("I'm firing");var t=e.target.dataset.type;this.setState({recipeSelection:t})}},{key:"render",value:function(){var e,t=this,i=this.state.recipe,n=this.state.newyields/this.state.yields,s=null===(e=this.state.recipe.ingredients)||void 0===e?void 0:e.map((function(e,t){return Object(x.jsx)("li",{children:Object(x.jsxs)("h2",{children:[e.qty*n," ",e.unit," of ",e.type,"  "]})},t)}));return console.log("recipe",i),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("li",{className:"repice-li",children:[Object(x.jsx)("div",{className:"img-container",children:Object(x.jsx)("img",{className:"recipe-img",src:i.image,alt:"preview"})}),Object(x.jsx)("h4",{className:"repice-title",children:i.title}),Object(x.jsx)("p",{className:"repice-type",children:i.type_meal}),this.state.isEditing?Object(x.jsx)("input",{type:"number",min:"0",step:"".concat(i.yields),name:"newyields",value:this.state.newyields,onChange:this.handleInputEdit,onKeyUp:function(e){return t.handleEdit(e,t.state.newyields)}}):Object(x.jsxs)("span",{className:"repice-yields",children:["yields ",this.state.newyields," "]}),this.state.isEditing?null:Object(x.jsx)("button",{className:"btn btn-outline-success",type:"button",onClick:function(){return t.setState({isEditing:!t.state.isEditing})},children:"Make More"}),Object(x.jsx)("br",{}),Object(x.jsxs)("span",{className:"repice-type",children:["Prep time: ",i.prep_time," |"]}),Object(x.jsxs)("span",{className:"repice-type",children:["Cook time: ",i.cook_time," |"]}),Object(x.jsxs)("span",{className:"repice-type",children:[" ",i.cook_temp," ",i.degree," |"]}),Object(x.jsx)("p",{className:"repice-list-text",children:i.directions}),Object(x.jsx)("ul",{children:s}),Object(x.jsxs)("p",{className:"repice-author",children:["Writen by: ",i.author]}),Object(x.jsxs)("p",{className:"repice-published",children:["This repice is ",i.published]}),Object(x.jsxs)("p",{className:"repice-published",children:["Directions ",i.directions]}),Object(x.jsxs)("p",{className:"repice-published",children:["Notes ",i.notes]}),Object(x.jsxs)("p",{className:"recipe-list-text-profile",children:[" ",i.body," "]}),Object(x.jsx)("button",{className:"btn",type:"button",onClick:function(){return t.props.removeRecipe(i)},children:"Delete"})]},i.id)})}}]),i}(n.Component),w=function(e){Object(j.a)(i,e);var t=Object(b.a)(i);function i(e){var n;return Object(p.a)(this,i),(n=t.call(this,e)).state={username:"",email:"",password1:"",password2:""},n.handleInput=n.handleInput.bind(Object(u.a)(n)),n}return Object(h.a)(i,[{key:"handleInput",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{className:"regform",onSubmit:function(t){return e.props.handleRegistration(t,e.state)},children:[Object(x.jsx)("input",{className:"reginput",type:"text",name:"username",value:this.state.username,placeholder:"username",onChange:this.handleInput,required:!0}),Object(x.jsx)("input",{className:"reginput",type:"email",name:"email",value:this.state.email,placeholder:"email",onChange:this.handleInput,required:!0}),Object(x.jsx)("input",{className:"reginput",type:"password",name:"password1",value:this.state.password1,placeholder:"password",onChange:this.handleInput,required:!0}),Object(x.jsx)("input",{className:"reginput",type:"password",name:"password2",value:this.state.password2,placeholder:"confirm password",onChange:this.handleInput,required:!0}),Object(x.jsx)("button",{className:"btn",type:"submit",children:"Register"})]})})}}]),i}(n.Component),q=function(e){Object(j.a)(i,e);var t=Object(b.a)(i);function i(e){var n;return Object(p.a)(this,i),(n=t.call(this,e)).state={isEditing:!1,recipeSelection:"All",title:"",prep_time:"",cook_time:"",cook_temp:"",yields:"",food_type:"",ingredients:[],directions:"",notes:""},n.handleEdit=n.handleEdit.bind(Object(u.a)(n)),n.handleInputEdit=n.handleInputEdit.bind(Object(u.a)(n)),n.filterRecipes=n.filterRecipes.bind(Object(u.a)(n)),n}return Object(h.a)(i,[{key:"handleEdit",value:function(e,t){13===e.keyCode&&(this.props.editRecipe(t,this.state.note),this.setState({isEditing:!1}))}},{key:"handleInputEdit",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"filterRecipes",value:function(e){console.log("I'm firing");var t=e.target.dataset.type;this.setState({recipeSelection:t})}},{key:"render",value:function(){var e=this.props.recipes.map((function(e){return Object(x.jsx)("div",{className:"listImg",children:Object(x.jsx)("a",{href:"/recipe/".concat(e.id),children:Object(x.jsx)("img",{className:"homepage-img",src:e.image,alt:"preview"})})},e.id)}));return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("ul",{className:"row",children:[" ",e,"  "]})})}}]),i}(n.Component),R=function(e){Object(j.a)(i,e);var t=Object(b.a)(i);function i(e){var n;return Object(p.a)(this,i),(n=t.call(this,e)).state={username:"",email:"",password:""},n.handleInput=n.handleInput.bind(Object(u.a)(n)),n}return Object(h.a)(i,[{key:"handleInput",value:function(e){this.setState(Object(N.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("form",{className:"loginform",onSubmit:function(t){return e.props.handleLogin(t,e.state)},children:[Object(x.jsx)("input",{type:"text",name:"username",value:this.state.username,placeholder:"username",onChange:this.handleInput,required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("input",{type:"password",name:"password",value:this.state.password,placeholder:"password",onChange:this.handleInput,required:!0}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"btn",type:"submit",children:"Login"})]})})}}]),i}(n.Component),E=(i(40),function(e){Object(j.a)(i,e);var t=Object(b.a)(i);function i(e){var n;return Object(p.a)(this,i),(n=t.call(this,e)).state={clickedId:null,recipes:[],recipeImage:null,preview:"",isLoggedIn:!!g.a.get("Authorization")},n.addRecipe=n.addRecipe.bind(Object(u.a)(n)),n.removeRecipe=n.removeRecipe.bind(Object(u.a)(n)),n.editRecipe=n.editRecipe.bind(Object(u.a)(n)),n.handleImage=n.handleImage.bind(Object(u.a)(n)),n.handleLogin=n.handleLogin.bind(Object(u.a)(n)),n.handleLogOut=n.handleLogOut.bind(Object(u.a)(n)),n.handleRegistration=n.handleRegistration.bind(Object(u.a)(n)),n}return Object(h.a)(i,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/").then((function(e){return e.json()})).then((function(t){console.log("response",t),e.setState({recipes:t})}),(function(t){e.setState({error:t})}))}},{key:"addRecipe",value:function(e){var t=Object(d.a)(this.state.recipes);t.push(e),this.setState({recipes:t}),this.setState({recipeImage:null,preview:""})}},{key:"removeRecipe",value:function(e){var t=Object(d.a)(this.state.recipes),i=t.indexOf(e);t.splice(i,1),this.setState({recipes:t}),fetch("/api/v1/edit/".concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")}}).then((function(e){if(!e.ok)throw new Error("Bad Post request")})).catch((function(e){return console.log("Error:",e)})).finally("I am always going to fire!")}},{key:"editRecipe",value:function(e,t){var i=Object(d.a)(this.state.recipes);e.notes=t,this.setState({recipes:i}),fetch("/api/v1/edit/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error("Bad Post request");return e.json()})).then((function(e){return console.log("Success. ChatApp created!")})).catch((function(e){return console.log("Error:",e)})).finally("I am always going to fire!")}},{key:"handleLogin",value:function(){var e=Object(l.a)(o.a.mark((function e(t,i){var n,s,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(i)},s=function(e){return console.warn(e)},e.next=5,fetch("/rest-auth/login/",n);case 5:return a=e.sent,e.next=8,a.json().catch(s);case 8:r=e.sent,console.log("data",r),r.key&&(g.a.set("Authorization","Token ".concat(r.key)),c={username:r.username},localStorage.setItem("user",JSON.stringify(c)),this.setState({isLoggedIn:!0}));case 11:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()},{key:"handleLogOut",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var i,n,s,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(this.state.isLoggedIn),t.preventDefault(),alert("logging out"),i={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")}},n=function(e){return console.warn(e)},e.next=7,fetch("/rest-auth/logout/",i);case 7:return s=e.sent,e.next=10,s.json().catch(n);case 10:a=e.sent,console.log(a),g.a.remove("Authorization"),this.setState({isLoggedIn:!1}),localStorage.removeItem("user");case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleRegistration",value:function(){var e=Object(l.a)(o.a.mark((function e(t,i){var n,s,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(i)},s=function(e){return console.warn(e)},e.next=5,fetch("/rest-auth/registration/",n);case 5:return a=e.sent,e.next=8,a.json().catch(s);case 8:r=e.sent,console.log(r),r.key&&(g.a.set("Authorization","Token ".concat(r.key)),c={username:r.username},localStorage.setItem("user",JSON.stringify(c)),this.setState({isLoggedIn:!0}));case 11:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()},{key:"handleImage",value:function(e){var t=this,i=e.target.files[0];this.setState({recipeImage:i});var n=new FileReader;n.onloadend=function(){t.setState({preview:n.result})},n.readAsDataURL(i)}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"container",children:Object(x.jsx)("div",{className:"row-12",children:Object(x.jsx)("div",{className:"nav-bar",children:Object(x.jsxs)(O.a,{children:[Object(x.jsx)(v,{handleLogOut:this.handleLogOut,isLoggedIn:this.state.isLoggedIn}),Object(x.jsx)(y.c,{children:Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col-2",children:Object(x.jsx)(f,{isLoggedIn:this.state.isLoggedIn})}),Object(x.jsxs)("div",{className:"col-10",children:[Object(x.jsx)(y.a,{path:"/login",children:Object(x.jsx)(R,{isLoggedIn:this.state.isLoggedIn,handleLogin:this.handleLogin})}),Object(x.jsx)(y.a,{path:"/register",children:Object(x.jsx)(w,{isLoggedIn:this.state.isLoggedIn,handleRegistration:this.handleRegistration})}),Object(x.jsx)(y.a,{path:"/recipes",children:Object(x.jsx)(q,{recipes:this.state.recipes,removeRecipe:this.removeRecipe,editRecipe:this.editRecipe,preview:this.state.preview,recipeImage:this.state.recipeImage,handleImage:this.handleImage,addRecipe:this.addRecipe})}),Object(x.jsx)(y.a,{path:"/user/recipes",children:Object(x.jsx)(I,{recipes:this.state.recipes,removeRecipe:this.removeRecipe,editRecipe:this.editRecipe})}),Object(x.jsx)(y.a,{path:"/recipeform",children:Object(x.jsx)(C,{preview:this.state.preview,recipeImage:this.state.recipeImage,handleImage:this.handleImage,addRecipe:this.addRecipe})}),Object(x.jsx)(y.a,{exact:!0,path:"/recipe/:id",component:_}),Object(x.jsx)(y.a,{exact:!0,path:"/recipe/edit/:id",component:S})]})]})})]})})})})}}]),i}(n.Component)),L=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,42)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;i(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(E,{})}),document.getElementById("root")),L()}},[[41,1,2]]]);
//# sourceMappingURL=main.a7cc8154.chunk.js.map